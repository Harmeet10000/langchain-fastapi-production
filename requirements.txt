# Python 3.9+ Compatible Requirements
# Last updated: 2025-01-05
# All versions tested and compatible with Python 3.9

# =============================================================================
# Core FastAPI Dependencies
# =============================================================================
fastapi[standard]>=0.115.0,<0.116.0  # Modern FastAPI with standard dependencies
uvicorn[standard]>=0.30.0,<0.31.0    # ASGI server with auto-reload
pydantic>=2.9.0,<3.0.0                # Data validation (Pydantic v2)
pydantic-settings>=2.5.0,<3.0.0       # Settings management
python-multipart>=0.0.12              # Form data parsing
python-jose[cryptography]>=3.3.0      # JWT tokens
passlib[bcrypt]>=1.7.4                # Password hashing
email-validator>=2.2.0                # Email validation
httpx>=0.27.0                         # HTTP client for async requests

# =============================================================================
# LangChain Ecosystem (Latest Stable for Python 3.9)
# =============================================================================
# Core LangChain
langchain>=0.3.0,<0.4.0              # Main framework
langchain-core>=0.3.0,<0.4.0         # Core abstractions
langchain-community>=0.3.0,<0.4.0    # Community integrations

# LangChain Integrations
langchain-google-genai>=2.0.0,<3.0.0 # Google Gemini integration
langchain-pinecone>=0.2.0,<0.3.0     # Pinecone integration

# LangGraph & LangSmith
langgraph>=0.2.0,<0.3.0              # Graph-based workflows
langsmith>=0.1.125,<0.2.0            # LangSmith tracing

# LangChain MCP Adapters (NEW - for MCP integration)
fastmcp==2.11.0        # MCP protocol adapters

# =============================================================================
# Google AI (Gemini)
# =============================================================================
google-generativeai>=0.8.0,<1.0.0    # Google Gemini SDK
google-ai-generativelanguage>=0.6.0  # Gemini language models

# =============================================================================
# Vector Store & Embeddings
# =============================================================================
pinecone-client>=5.0.0,<6.0.0        # Pinecone vector database
tiktoken>=0.7.0                       # OpenAI tokenizer
# sentence-transformers>=3.0.0          # Sentence embeddings

# =============================================================================
# Document Processing
# =============================================================================
# Document parsers
pypdf>=5.0.0                          # PDF processing
python-docx>=1.1.2                    # DOCX processing
openpyxl>=3.1.5                       # Excel processing
python-pptx>=1.0.2                    # PowerPoint processing
beautifulsoup4>=4.12.3                # HTML parsing
lxml>=5.3.0                           # XML/HTML parser
markdownify>=0.13.0                   # HTML to Markdown
unstructured>=0.15.0                  # Unstructured data processing

# Docling (if available for Python 3.9)
# Note: Check docling compatibility, may need specific version
# docling>=2.0.0  # Uncomment if compatible

# =============================================================================
# Web Crawling
# =============================================================================
# playwright>=1.47.0                    # Browser automation
# selenium>=4.25.0                      # Web automation
crawl4ai>=0.4.0                       # AI-powered web crawling

# =============================================================================
# Database & Caching
# =============================================================================
# MongoDB
motor>=3.6.0                          # Async MongoDB driver
pymongo>=4.10.0                       # MongoDB driver

# Redis
redis[hiredis]>=5.1.0                 # Redis client with C parser

# SQL (if needed)
sqlalchemy>=2.0.35                    # SQL toolkit (Python 3.9+)
alembic>=1.13.3                       # Database migrations
asyncpg>=0.29.0                       # Async PostgreSQL (if using Postgres)

# =============================================================================
# Monitoring & Logging
# =============================================================================
python-json-logger>=2.0.7             # JSON logging
structlog>=24.4.0                     # Structured logging
# opentelemetry-api>=1.27.0             # Observability
# opentelemetry-sdk>=1.27.0             # Observability SDK
# opentelemetry-instrumentation-fastapi>=0.48b0  # FastAPI instrumentation
# prometheus-client>=0.21.0             # Metrics

# =============================================================================
# Testing
# =============================================================================
# pytest>=8.3.0                         # Test framework
# pytest-asyncio>=0.24.0                # Async tests
# pytest-cov>=6.0.0                     # Coverage plugin
# pytest-mock>=3.14.0                   # Mocking
# faker>=30.0.0                         # Fake data generation
# httpx>=0.27.0                         # HTTP client for testing

# =============================================================================
# Development Tools
# =============================================================================
black>=24.8.0                         # Code formatter
isort>=5.13.2                         # Import sorter
mypy>=1.11.2                          # Static type checker
pylint>=3.3.0                         # Linter
ruff>=0.7.0                           # Fast Python linter
pre-commit>=4.0.0                     # Git hooks

# =============================================================================
# Security
# =============================================================================
python-dotenv>=1.0.1                  # Environment variables
cryptography>=43.0.0                  # Cryptographic recipes
pyjwt>=2.9.0                          # JWT implementation

# =============================================================================
# Utilities
# =============================================================================
tenacity>=9.0.0                       # Retry logic
aiofiles>=24.1.0                      # Async file operations
orjson>=3.10.0                        # Fast JSON
ujson>=5.10.0                         # Ultra-fast JSON
nanoid>=2.0.0                         # ID generation
python-slugify>=8.0.4                 # URL-safe slugs

# =============================================================================
# Data Processing (Optional)
# =============================================================================
numpy>=1.26.4,<2.0.0                  # Numerical computing (1.x for Python 3.9)
pandas>=2.2.0                         # Data manipulation
scikit-learn>=1.5.0                   # Machine learning

# =============================================================================
# API Enhancement
# =============================================================================
slowapi>=0.1.9                        # Rate limiting
fastapi-limiter>=0.1.6                # Additional rate limiting
fastapi-pagination>=0.12.0            # Pagination utilities
fastapi-cache2>=0.2.0                 # Caching utilities

# =============================================================================
# Additional LangChain Tools
# =============================================================================
wikipedia>=1.4.0                      # Wikipedia search
duckduckgo-search>=6.0.0              # DuckDuckGo search
requests>=2.32.0                      # HTTP library

# =============================================================================
# Notes:
# =============================================================================
# 1. All versions tested for Python 3.9+ compatibility
# 2. Using Pydantic v2 (LangChain 0.3+ requires Pydantic v2)
# 3. SQLAlchemy 2.0+ requires Python 3.7+ (compatible with 3.9)
# 4. NumPy 1.26.x is the last version fully compatible with Python 3.9
# 5. FastAPI 0.115+ includes new features and Pydantic v2 support
# 6. LangChain 0.3+ is the latest major version
# 7. For production, consider pinning exact versions for reproducibility
#
# Installation:
#   pip install -r requirements-py39.txt
#
# Or with uv (faster):
#   uv pip install -r requirements-py39.txt
#
# Verify Python version:
#   python --version  # Should show Python 3.9.x
